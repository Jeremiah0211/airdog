<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:services="no.airdog.services.*"
    xmlns:view="no.airdog.view.*"
    creationComplete="showInitialView()" styleName="MainView" width="100%" height="100%">
	<mx:Script>
        <![CDATA[
        	import no.airdog.controller.Navigasjon;
            import no.airdog.services.Components;
            import no.airdog.view.InnloggingVindu;
            import mx.managers.PopUpManager;
            import mx.events.ItemClickEvent;
        	import mx.controls.tabBarClasses.Tab;

            public function sok():void
			{
				Components.instance.controller.hundesok(sokefelt.text);
			}
            
            private function showInitialView():void
            {
            	Components.instance.controller.loggInn("gjest", "gjest");
            }
            
            private function visLastOpp():void
            {
            	Navigasjon.visLastOpp();
            	Components.instance.controller.loggInn("admin", "admin");
            }
            
            public function visHundeliste():void
            {
            	Navigasjon.visHundeliste();
            }
            
            public function visHundNr(nr:int):void
            {
            	Navigasjon.visHundNr(nr);
            }
            
            public function visAdminRoller():void
            {
            	Navigasjon.visAdminRoller();
            }
            
            private function innloggingSprettOppVindu():void
            {
            	Components.instance.controller.visLoggInnVindu(this);
            }
        ]]>
    </mx:Script>
	
		
<mx:VBox styleName="MainViewContainer" width="100%" height="100%">    	
	<mx:VBox id="topbar" styleName="TopBar" width="100%">
		<mx:HBox verticalAlign="middle">
			<mx:Image source="no/airdog/view/assets/airdoglogo2.png"/>
			<mx:TextInput id="sokefelt" enter="sok()"/>
			<mx:Button label="SÃ¸k" icon="@Embed(source='assets/magnifier.png')" click="sok()"/>
			<mx:Button label="Logg ut" click="innloggingSprettOppVindu()" icon="@Embed(source='assets/key__minus.png')"/>
			<mx:Text text="Velkommen, {Components.instance.session.bruker.brukernavn}"/>
		</mx:HBox>										
		<mx:TabNavigator width="100%" height="80" styleName="tabNavigator">
			<mx:HBox label="Admin">
				<mx:Button label="Roller" click="visAdminRoller()" styleName="UnderMeny"/>
		 		<mx:Button label="Last opp" click="visLastOpp()" styleName="UnderMeny">
		 		</mx:Button>
		 	</mx:HBox>
	   		<mx:HBox label="Hunder">
	   			<mx:Button label="Hundeliste" click="visHundeliste()" styleName="UnderMeny"/>
	   			<mx:Button label="Vis hund nr 0" click="visHundNr(0)" styleName="UnderMeny"/>
	   		</mx:HBox>
	  		<mx:HBox label="Diverse">
	  			<mx:Button label="Logg inn" click="innloggingSprettOppVindu()" styleName="UnderMeny"/>
	  			<mx:Label text="Laster siden..." visible="{Components.instance.session.hovedNavigasjon.laster}" fontWeight="bold"/>
	  		</mx:HBox>
		</mx:TabNavigator>
			  
	</mx:VBox>
	
	<mx:ViewStack width="100%" height="100%" selectedIndex="{Components.instance.session.hovedNavigasjon.nr}">
	    <view:DatOpplastning/>
	    <view:HundeSok/>
	    <view:HundeProfil/>
	    <view:Admin_Roller/>
    </mx:ViewStack>
</mx:VBox>
	
	
	
    
    
</mx:VBox>
